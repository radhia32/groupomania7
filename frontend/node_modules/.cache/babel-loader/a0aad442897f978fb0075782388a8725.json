{"ast":null,"code":"var _jsxFileName = \"/Users/zrt/Documents/groupomania7/frontend/src/pages/Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup(_ref) {\n  _s();\n\n  let {\n    setCurrentForm\n  } = _ref;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [nom, setNom] = useState('');\n  const [prenom, setPrenom] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"inputForm\",\n      name: \"email\",\n      placeholder: \"Entrer votre email\",\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"inputForm\",\n      name: \"nom\",\n      placeholder: \"Entrer votre nom\",\n      value: nom,\n      onChange: e => setNom(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"inputForm\",\n      name: \"prenom\",\n      placeholder: \"Entrer votre prenom\",\n      value: prenom,\n      onChange: e => setPrenom(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"inputForm\",\n      name: \"password\",\n      placeholder: \"Entrer votre password\",\n      value: password // onChange la fonction qui sera executer au moment de saisie\n      // setPassword la fonction qui permet de changer le password\n      // e.target.value valeur taper dans l'input\n      ,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"inputForm\",\n      onClick: async () => {\n        try {\n          const user = await axios.post('http://localhost:4000/api/user/signup', {\n            email,\n            password,\n            nom,\n            prenom,\n            role: 'user'\n          });\n\n          if (user.status === 200) {\n            setError(false); //pour stocker nos information ds le local storage pour persister les données\n\n            localStorage.setItem(\"TOKEN\", user.data.token);\n            localStorage.setItem(\"USERID\", user.data.userId);\n            localStorage.setItem(\"NAME\", user.data.lastName);\n            localStorage.setItem(\"LASTNAME\", user.data.firstName);\n            localStorage.setItem(\"ROLE\", user.data.role);\n            window.location.replace(\"/\");\n          }\n        } catch (err) {\n          setError(true);\n        }\n      },\n      children: \"Inscription\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Signup, \"id31F3IUHJsQ0E4w1D1Rr47rBic=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/zrt/Documents/groupomania7/frontend/src/pages/Signup.jsx"],"names":["React","useState","axios","Signup","setCurrentForm","email","setEmail","password","setPassword","nom","setNom","prenom","setPrenom","e","target","value","user","post","role","status","setError","localStorage","setItem","data","token","userId","lastName","firstName","window","location","replace","err"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from \"axios\";\n\n\nfunction Signup ({ setCurrentForm }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [nom, setNom] = useState('');         \n    const [prenom, setPrenom] = useState('');\n\n    return (\n        <div>   \n\n            <h3>Login</h3>\n            <input \n               className='inputForm'\n              name='email'\n              placeholder='Entrer votre email'\n              value={email} \n              onChange={(e) => setEmail(e.target.value)}\n\n            />\n            <input \n               className='inputForm'\n              name='nom'\n              placeholder='Entrer votre nom'\n              value={nom} \n              onChange={(e) => setNom(e.target.value)}\n              \n            />\n\n            <input \n              className='inputForm'\n              name='prenom'\n              placeholder='Entrer votre prenom'\n              value={prenom} \n              onChange={(e) => setPrenom(e.target.value)}\n              \n            />\n            <input\n              className='inputForm'\n              name='password' \n              placeholder='Entrer votre password'\n              value={password}\n              // onChange la fonction qui sera executer au moment de saisie\n              // setPassword la fonction qui permet de changer le password\n              // e.target.value valeur taper dans l'input\n              onChange={(e) => setPassword(e.target.value)}\n\n            />\n            <button\n             className='inputForm'\n              onClick={async() => {\n                try {\n        const user = await axios.post('http://localhost:4000/api/user/signup', {email, password,nom,prenom, role: 'user'})\n        if(user.status === 200) {  setError(false)\n          //pour stocker nos information ds le local storage pour persister les données\n            localStorage.setItem(\"TOKEN\", user.data.token);\n            localStorage.setItem(\"USERID\", user.data.userId);\n            localStorage.setItem(\"NAME\", user.data.lastName);\n            localStorage.setItem(\"LASTNAME\", user.data.firstName);\n            localStorage.setItem(\"ROLE\", user.data.role);\n            window.location.replace(\"/\")}   \n        \n        }\n        \n          catch (err ) {setError(true)\n           \n          }   \n                \n            }}>Inscription</button>\n        \n        </div>\n    )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}